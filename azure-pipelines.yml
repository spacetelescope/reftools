# This is the CI matrix that runs per push event.

trigger:
- master

stages:
- stage: Initial
  jobs:

  - template: azure-templates.yml

- stage: Comprehensive
  dependsOn: Initial
  condition: succeeded()
  jobs:

  - template: azure-templates.yml
    parameters:
      name: 'Windows'
      vmImage: 'vs2017-win2016'

  - template: azure-templates.yml
    parameters:
      name: 'OSX'
      vmImage: 'macOS-10.13'

schedules:
- cron: "0 5 * * 1"
  displayName: Weekly Monday 5AM build
  branches:
    include:
    - master
