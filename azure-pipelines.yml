# This is the CI matrix that runs per push event.

trigger:
- master

stages:
- stage: Comprehensive
  jobs:

  - template: azure-templates.yml
    parameters:
      name: 'Dev_Astropy'
      astropyCmd: 'pip install astropy==4.2.rc1'
      pythonVersion: '3.8'

  - template: azure-templates.yml
    parameters:
      name: 'Windows'
      vmImage: 'windows-2019'
      astropyCmd: 'pip install astropy==4.2.rc1'

  - template: azure-templates.yml
    parameters:
      name: 'OSX'
      vmImage: 'macOS-10.15'
      astropyCmd: 'pip install astropy==4.2.rc1'

schedules:
- cron: "0 5 * * 1"
  displayName: Weekly Monday 5AM build
  branches:
    include:
    - master
